function main

    filename = "shapeofyou.mp3";
    io = dsp.AudioFileReader(filename,"SamplesPerFrame",32768);
    songInfo = audioinfo(filename);
    totalFrames = floor(songInfo.TotalSamples / 32768);    
    fftSignals = [];
    
    for i = 1:totalFrames
        frame = io();
        windowing(frame(:,1),1024,32, @handle);
    end



    function handle(fftSignal,range,totalSteps)
        if isempty(fftSignals)
            fftSignals = zeros(totalSteps, totalSteps * 1024);
        end
        fftSignals(range) = fftSignal;
    end

disp(fftSignals);

end